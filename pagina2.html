<!doctype html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <title>Página 2 práctica http con AJAX</title>
    <script>
        function sumar() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = myCallBack;
            xhr.open('POST', 'sumar', true);
            var n1 = document.getElementById("n1").value;
            var n2 = document.getElementById("n2").value;
            xhr.send(JSON.stringify({num1: n1, num2: n2}));
            function myCallBack () {
                if (this.readyState < 4) {
                    return false; // not ready yet
                }
                if (this.status != 200) {
                    alert('Error!'); // the HTTP status code in not OK
                return false;
                }
                // all is fine, do the work
                var respuesta = JSON.parse(this.responseText);
                document.getElementById("resultado").value =
                    "Resultado = " + respuesta.resultado.toString(10);
                return false;
            }
        }
    </script>
    </head>
    <body>
        <h1>Sumadora 2: Práctica http con AJAX</h1>
        <div>
            <label for="n1">Primer sumando:</label>
            <input type="number" id="n1" name="num1"><br>
            <label for="n2">Segundo sumando:</label>
            <input type="number" id="n2" name="num2"><br>
            <button onclick="return sumar();">Púlse para sumar</button><br>
            <output id="resultado"></output>
        </div>
    </body>

</html>
